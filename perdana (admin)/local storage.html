<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>

    <style>
        #root {
            background-color: #0d1c27;
            color: white;
            font-size: 2em;
            height: 100vh;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="root">
        <button onclick="onLogin()" id='loginButton' disabled>LOGIN</button>
        <button onclick="onLogout()" id='logoutButton'>LOGOUT</button>
        <input type="text" placeholder="username" id='usernameInput' />
        <input type="password" placeholder="password" id='passwordInput' />
        <br/>
        <br/>
        <h3 id="admin">login sebagai admin</h3>
        <h3 id="standar">login sebagai user</h3>
        <h3 id="guest">login sebagai tamu</h3>
    </div>

    <script type="application/javascript">

        let usernameInput = document.getElementById('usernameInput')
        let passwordInput = document.getElementById('passwordInput')
        let loginButton = document.getElementById('loginButton')
        let logoutButton = document.getElementById('logoutButton')
        
        admin.style.display = "none"
        standar.style.display = "none"
        guest.style.display = "none"
        logoutButton.style.display = "none"

        usernameInput.addEventListener('input', checkInputs);
        passwordInput.addEventListener('input', checkInputs);
        
        function checkInputs() {
            loginButton.disabled = !(usernameInput.value && passwordInput.value)
        }
        
        function onLogin() {
            console.log('aktifLogin')
            console.log(passwordInput.value)
            console.log(usernameInput.value)
            localStorage.setItem("username", usernameInput.value)
            
            if(usernameInput.value == "admin" && passwordInput.value == "1234") {
                localStorage.setItem("role","admin")

                admin.style.display = "block"
                guest.style.display = "none"
                standar.style.display = "none"

                logoutButton.style.display = "block"
                loginButton.style.display = "none"
                
                usernameInput.style.display = "none"
                passwordInput.style.display = "none"

                // localStorage.setItem("role","guest")
                
                // guest.style.display = "block"
                // admin.style.display = "none"
                // standar.style.display = "none"
                
                // usernameInput.style.display = "none"
                // passwordInput.style.display = "none"
                
                // logoutButton.style.display = "block"
                // loginButton.style.display = "none"
                
            } else {
                localStorage.setItem("role","basic")
                
                standar.style.display = "block"
                admin.style.display = "none"
                guest.style.display = "none"
                
                logoutButton.style.display = "block"
                loginButton.style.display = "none"
                
                usernameInput.style.display = "none"
                passwordInput.style.display = "none"
            }
        }
        
        function onLogout() {
            console.log('aktifLogout')
            localStorage.clear()
            
            admin.style.display = "none"
            standar.style.display = "none"
            guest.style.display = "none"
            
            logoutButton.style.display = "none"
            loginButton.style.display = "block"
            
            usernameInput.style.display = "block"
            passwordInput.style.display = "block"
        }
        
        if(localStorage.getItem('username')){
            usernameInput.style.display = "none"
            passwordInput.style.display = "none"

            loginButton.style.display = "none"
            
            if(localStorage.getItem('role') == "admin"){
                standar.style.display = "none"
                guest.style.display = "none"
                admin.style.display = "block"

                logoutButton.style.display = "block"
                
            }if(localStorage.getItem('role') == "guest"){
                admin.style.display = "none"
                standar.style.display = "none"
                guest.style.display = "block"
                
                logoutButton.style.display = "block"

            }if(localStorage.getItem('role') == "basic") {
                admin.style.display = "none"
                guest.style.display = "none"
                standar.style.display = "block"

                logoutButton.style.display = "block"
            }
        }

        </script>
</body>
</html>    